{
  "language": "Solidity",
  "sources": {
    "contracts/UserInfo.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.7;\n\ncontract UserInfo {\n    // 定义用户结构体\n    struct User {\n        address userAddress; // 用户钱包地址\n        uint256 userId; // 用户ID\n        string userName; // 用户名\n        string pwd; // 密码\n        string role; // 用户角色\n        uint256 assert; // 用户资产\n        // uint256 activeValue; // 活跃值\n    }\n\n    // 用户ID到用户结构体的映射\n    mapping(uint256 => User) public userMap;\n\n    // 已注册用户地址\n    address[] public registeredUserAddresses;\n\n    // // 委员会成员列表\n    // uint256[] public commitMembers;\n\n    // // 资产排名前20用户列表\n    // address[] public topAssertListAddresses;\n\n    // 添加用户函数\n    function createUser(\n        string memory _userName,\n        string memory _pwd,\n        address _userAddress\n    ) public {\n        // 生成用户ID（使用简单的伪随机数生成函数）\n        uint256 _userId = uint256(\n            keccak256(abi.encodePacked(block.timestamp, _userName))\n        );\n        User memory newUser = User(\n            _userAddress,\n            _userId,\n            _userName,\n            _pwd,\n            //普通用户roleID是“0”\n            \"0\",\n            0\n        );\n        userMap[_userId] = newUser;\n        registeredUserAddresses.push(_userAddress);\n    }\n\n    function retrieve() public view returns (address) {\n        return registeredUserAddresses[0];\n    }\n\n    // 用户登录函数\n    function loginUser(\n        uint256 _userId,\n        string memory _pwd\n    ) public view returns (bool) {\n        return\n            keccak256(abi.encodePacked(userMap[_userId].pwd)) ==\n            keccak256(abi.encodePacked(_pwd));\n    }\n\n    // 查询用户信息函数\n    function getUserInfo(uint256 _userId) public view returns (User memory) {\n        return userMap[_userId];\n    }\n\n    // 更改用户角色函数\n    function changeUserRole(uint256 _userId, string memory _role) public {\n        userMap[_userId].role = _role;\n    }\n}\n"
    }
  },
  "settings": {
    "optimizer": {
      "enabled": false,
      "runs": 200
    },
    "outputSelection": {
      "*": {
        "*": [
          "abi",
          "evm.bytecode",
          "evm.deployedBytecode",
          "evm.methodIdentifiers",
          "metadata",
          "devdoc",
          "userdoc",
          "storageLayout",
          "evm.gasEstimates"
        ],
        "": [
          "ast"
        ]
      }
    },
    "metadata": {
      "useLiteralContent": true
    }
  }
}